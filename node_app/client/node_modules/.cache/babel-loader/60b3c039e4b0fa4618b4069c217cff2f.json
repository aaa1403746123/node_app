{"remainingRequest":"C:\\Users\\管家\\Desktop\\node_app\\client\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\管家\\Desktop\\node_app\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\管家\\Desktop\\node_app\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\管家\\Desktop\\node_app\\client\\src\\views\\foundlist.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\管家\\Desktop\\node_app\\client\\src\\views\\foundlist.vue","mtime":1582725871713},{"path":"C:\\Users\\管家\\Desktop\\node_app\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\管家\\Desktop\\node_app\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\管家\\Desktop\\node_app\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\管家\\Desktop\\node_app\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGluZGV4YWRkIGZyb20gJy4uL2NvbXBvbmVudHMvaW5kZXhhZGQudnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdmb3VuZGxpc3QnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkYXRlOiB7CiAgICAgICAgdmFsdWUxOiAnJywKICAgICAgICB2YWx1ZTI6ICcnCiAgICAgIH0sCiAgICAgIHBhZ2VzOiB7CiAgICAgICAgY3VycmVudF9wYWdlOiAxLAogICAgICAgIHBhZ2Vfc2l6ZTogMTAsCiAgICAgICAgbGF5X291dDogInByZXYsIHBhZ2VyLCBuZXh0LCBqdW1wZXIiLAogICAgICAgIHRvX3RvYWw6IDEwMDAKICAgICAgfSwKICAgICAgYWxsdGFibGVEYXRhOiBbXSwKICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgZmlsdGVyZGF0YTogW10sCiAgICAgIGZvcm06IHsKICAgICAgICB0eXBlOiAiIiwKICAgICAgICBkZXNjcmliZTogIiIsCiAgICAgICAgaW5jb21lOiAiIiwKICAgICAgICBleHBlbmQ6ICIiLAogICAgICAgIGNhc2g6ICIiLAogICAgICAgIHJlbWFyazogIiIsCiAgICAgICAgaWQ6ICcnCiAgICAgIH0sCiAgICAgIGlmc2hvdzogewogICAgICAgIHNob3c6IGZhbHNlLAogICAgICAgIHRpdGxlOiAn5re75YqgJywKICAgICAgICBvcHRpb246ICdhZGQnCiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgdXNlcjogZnVuY3Rpb24gdXNlcigpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMudXNlcjsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFByb2ZpbGUoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG9uc2VsZWN0OiBmdW5jdGlvbiBvbnNlbGVjdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICghdGhpcy5kYXRlLnZhbHVlMSB8fCAhdGhpcy5kYXRlLnZhbHVlMikgewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgbWVzc2FnZTogIuivt+mAieaLqeaXtumXtOWMuumXtCIKICAgICAgICB9KTsKICAgICAgICB0aGlzLmdldFByb2ZpbGUoKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBzdGltZSA9IHRoaXMuZGF0ZS52YWx1ZTEuZ2V0VGltZSgpOwogICAgICB2YXIgZXRpbWUgPSB0aGlzLmRhdGUudmFsdWUyLmdldFRpbWUoKTsKICAgICAgdGhpcy5hbGx0YWJsZURhdGEgPSB0aGlzLmZpbHRlcmRhdGEuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZShpdGVtLmRhdGUpOwogICAgICAgIHZhciB0aW1lID0gZGF0ZS5nZXRUaW1lKCk7CiAgICAgICAgcmV0dXJuIHRpbWUgPj0gc3RpbWUgJiYgdGltZSA8PSBldGltZTsKCiAgICAgICAgX3RoaXMuc2V0UGFnaW5hdGlvbnMoKTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0UHJvZmlsZTogZnVuY3Rpb24gZ2V0UHJvZmlsZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLiRheGlvcy5nZXQoJy9hcGkvYWxscHJvZmlsZXMnKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczIuYWxsdGFibGVEYXRhID0gcmVzLmRhdGE7CiAgICAgICAgX3RoaXMyLmZpbHRlcmRhdGEgPSByZXMuZGF0YTsKCiAgICAgICAgX3RoaXMyLnNldFBhZ2luYXRpb25zKCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9KTsKICAgIH0sCiAgICBzZXRQYWdpbmF0aW9uczogZnVuY3Rpb24gc2V0UGFnaW5hdGlvbnMoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy5wYWdlcy50b190b2FsID0gdGhpcy5hbGx0YWJsZURhdGEubGVuZ3RoOwogICAgICB0aGlzLnBhZ2VzLmN1cnJlbnRfcGFnZSA9IDEsIHRoaXMucGFnZXMucGFnZV9zaXplID0gMTAsIHRoaXMudGFibGVEYXRhID0gdGhpcy5hbGx0YWJsZURhdGEuZmlsdGVyKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgIHJldHVybiBpbmRleCA8IF90aGlzMy5wYWdlcy5wYWdlX3NpemU7CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZUVkaXQ6IGZ1bmN0aW9uIGhhbmRsZUVkaXQocm93KSB7CiAgICAgIHRoaXMuaWZzaG93ID0gewogICAgICAgIHRpdGxlOiAn57yW6L6RJywKICAgICAgICBzaG93OiB0cnVlLAogICAgICAgIG9wdGlvbjogJ2VkaXQnCiAgICAgIH0sIHRoaXMuZm9ybSA9IHsKICAgICAgICB0eXBlOiByb3cudHlwZSwKICAgICAgICBkZXNjcmliZTogcm93LmRlc2NyaWJlLAogICAgICAgIGluY29tZTogcm93LmluY29tZSwKICAgICAgICBleHBlbmQ6IHJvdy5leHBlbmQsCiAgICAgICAgY2FzaDogcm93LmNhc2gsCiAgICAgICAgcmVtYXJrOiByb3cucmVtYXJrLAogICAgICAgIGlkOiByb3cuX2lkCiAgICAgIH07CiAgICB9LAogICAgaGFuZGxlRGVsZXRlOiBmdW5jdGlvbiBoYW5kbGVEZWxldGUocm93KSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdmFyIHVybCA9IHJvdy5faWQ7CiAgICAgIHRoaXMuJGF4aW9zLmdldCgiL2FwaS9wcm9maWxlL2RlbGV0ZS8iLmNvbmNhdCh1cmwpKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczQuJG1lc3NhZ2UoewogICAgICAgICAgbWVzc2FnZTogJ+WIoOmZpOaIkOWKnycsCiAgICAgICAgICB0eXBlOiAic3VjY2VzcyIKICAgICAgICB9KSwgX3RoaXM0LmdldFByb2ZpbGUoKTsKICAgICAgfSk7CiAgICB9LAogICAgb25hZGQ6IGZ1bmN0aW9uIG9uYWRkKCkgewogICAgICB0aGlzLmlmc2hvdyA9IHsKICAgICAgICB0aXRsZTogJ+a3u+WKoCcsCiAgICAgICAgc2hvdzogdHJ1ZSwKICAgICAgICBvcHRpb246ICdhZGQnCiAgICAgIH0sIHRoaXMuZm9ybSA9IHsKICAgICAgICB0eXBlOiAiIiwKICAgICAgICBkZXNjcmliZTogIiIsCiAgICAgICAgaW5jb21lOiAiIiwKICAgICAgICBleHBlbmQ6ICIiLAogICAgICAgIGNhc2g6ICIiLAogICAgICAgIHJlbWFyazogIiIsCiAgICAgICAgaWQ6ICIiCiAgICAgIH07CiAgICB9LAogICAgaGFuZGxlQ3VycmVudENoYW5nZTogZnVuY3Rpb24gaGFuZGxlQ3VycmVudENoYW5nZShwYWdlKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdmFyIHNvcnRudW0gPSB0aGlzLnBhZ2VzLnBhZ2Vfc2l6ZSAqIChwYWdlIC0gMSk7CiAgICAgIHZhciB0YWJsZSA9IHRoaXMuYWxsdGFibGVEYXRhLmZpbHRlcihmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICByZXR1cm4gaW5kZXggPj0gc29ydG51bTsKICAgICAgfSk7IC8vIOiuvue9rum7mOiupOWIhumhteaVsOaNrgoKICAgICAgdGhpcy50YWJsZURhdGEgPSB0YWJsZS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgcmV0dXJuIGluZGV4IDwgX3RoaXM1LnBhZ2VzLnBhZ2Vfc2l6ZTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBpbmRleGFkZDogaW5kZXhhZGQKICB9Cn07"},{"version":3,"sources":["foundlist.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n<div class=\"alllist\">\r\n  \r\n  <div>\r\n   <el-form :inline=\"true\" :model=\"date\" class=\"demo-form-inline\">\r\n  <el-form-item label=\"投标时间筛选:\">\r\n   <el-date-picker\r\n      v-model=\"date.value1\"\r\n      type=\"date\"\r\n      placeholder=\"选择日期\">\r\n    </el-date-picker>\r\n  </el-form-item>\r\n  <el-form-item label=\"---\">\r\n  <el-date-picker\r\n      v-model=\"date.value2\"\r\n      type=\"date\"\r\n      placeholder=\"选择日期\">\r\n    </el-date-picker>\r\n  </el-form-item>\r\n  <el-form-item>\r\n    <el-button type=\"primary\" @click=\"onselect\">筛选</el-button>\r\n  </el-form-item>\r\n    <el-form-item class=\"btnRight\">\r\n    <el-button type=\"primary\" v-if=\"user.identify == 'manager'\" @click=\"onadd\">添加</el-button>\r\n  </el-form-item>\r\n</el-form>\r\n  </div>\r\n    <div class=\"foundList\">\r\n         <el-table\r\n         v-if=\"tableData.length > 0\"\r\n    :data=\"tableData\"\r\n     border\r\n      min-height='450'\r\n    style=\"width: 100%\">\r\n   <el-table-column\r\n      label=\"创建时间\"\r\n     align='center'\r\n    type='index'\r\n      width=\"50\">\r\n    </el-table-column>\r\n    <el-table-column\r\n      label=\"创建时间\"\r\n   align='center'\r\n      width=\"180\">\r\n      <template slot-scope=\"scope\">\r\n        <span >{{ scope.row.date }}</span>\r\n      </template>\r\n    </el-table-column>\r\n      <el-table-column\r\n      label=\"收支类型\"\r\n       align='center'\r\n      width=\"180\">\r\n      <template slot-scope=\"scope\">\r\n        <span>{{ scope.row.type }}</span>\r\n      </template>\r\n    </el-table-column>\r\n      <el-table-column\r\n      label=\"收支描述\"\r\n       align='center'\r\n      width=\"180\">\r\n      <template slot-scope=\"scope\">\r\n        <span >{{ scope.row.describe}}</span>\r\n      </template>\r\n    </el-table-column>\r\n      <el-table-column\r\n      label=\"收入\"\r\n       align='center'\r\n      width=\"100\">\r\n      <template slot-scope=\"scope\">\r\n        <span style=\"color:green\">+{{ scope.row.income }}</span>\r\n      </template>\r\n    </el-table-column>\r\n      <el-table-column\r\n      label=\"支出\"\r\n       align='center'\r\n       color=\"red\"\r\n      width=\"100\">\r\n      <template slot-scope=\"scope\">\r\n        <span style=\"color:red\">-{{ scope.row.expend }}</span>\r\n      </template>\r\n    </el-table-column>\r\n       <el-table-column\r\n      label=\"账户现金\"\r\n       align='center'\r\n      width=\"100\">\r\n      <template slot-scope=\"scope\">\r\n        <span >{{ scope.row.cash }}</span>\r\n      </template>\r\n    </el-table-column>\r\n       <el-table-column\r\n      label=\"备注\"\r\n       align='center'\r\n      width=\"100\">\r\n      <template slot-scope=\"scope\">\r\n        <span >{{ scope.row.remark }}</span>\r\n      </template>\r\n    </el-table-column>\r\n    <el-table-column label=\"操作\"  align='center'>\r\n        \r\n      <template slot-scope=\"scope\" v-if=\"user.identify == 'manager'\">\r\n        <el-button\r\n          size=\"mini\"\r\n          @click=\"handleEdit( scope.row)\">编辑</el-button>\r\n        <el-button\r\n          size=\"mini\"\r\n          type=\"danger\"\r\n          @click=\"handleDelete(scope.row)\">删除</el-button>\r\n      </template>\r\n    </el-table-column>\r\n  </el-table>\r\n  <indexadd :dialogFormVisible=\"ifshow\" :form=form @updata='getProfile'></indexadd>\r\n    </div>\r\n     <div class=\"block\">\r\n    <el-pagination\r\n      @current-change=\"handleCurrentChange\"\r\n      current-page.sync=\"pages.current_page\"\r\n      :page-size=\"pages.page_size\"\r\n      :layout=\"pages.lay_out\"\r\n      :total=\"pages.to_toal\">\r\n    </el-pagination>\r\n  </div>\r\n</div>\r\n</template>\r\n<script>\r\nimport indexadd from '../components/indexadd.vue'\r\nexport default {\r\n    name:'foundlist',\r\n    data(){\r\n        return{\r\n          date:{\r\n            value1:'',\r\n            value2:''\r\n          },\r\n          pages:{\r\n          current_page:1,\r\n          page_size:10,\r\n          lay_out:\"prev, pager, next, jumper\",\r\n          to_toal:1000,\r\n          },\r\n          alltableData:[],\r\n                tableData:[],\r\n          filterdata:[],\r\n              form: {\r\n              type:\"\",\r\n              describe:\"\",\r\n              income:\"\",\r\n              expend:\"\",\r\n              cash:\"\",\r\n              remark:\"\",\r\n              id:''\r\n              },\r\n               ifshow:{\r\n                  show:false,\r\n                  title:'添加',\r\n                  option:'add'\r\n                },\r\n\r\n        }\r\n    },\r\n    computed:{\r\n        user(){\r\n          return this.$store.getters.user;\r\n        }\r\n    },\r\n    created(){\r\n        this.getProfile()\r\n    },\r\n    methods:{\r\n      onselect(){\r\n       if (!this.date.value1 || !this.date.value2) {\r\n        this.$message({\r\n          type: \"warning\",\r\n          message: \"请选择时间区间\"\r\n        });\r\n        this.getProfile();\r\n        return;\r\n      }\r\n    const stime=this.date.value1.getTime()\r\n    const etime=this.date.value2.getTime()\r\n    this.alltableData=this.filterdata.filter((item)=>{\r\n        let date = new Date(item.date);\r\n        let time = date.getTime();\r\n        return time >= stime && time <= etime;\r\n        this.setPaginations();\r\n    })\r\n      },\r\n        getProfile(){\r\n            this.$axios.get('/api/allprofiles').then(res=>{\r\n                this.alltableData=res.data\r\n                this.filterdata=res.data\r\n                 this.setPaginations();               \r\n            }).catch(err=>{\r\n                console.log(err)\r\n            })    \r\n        },\r\n        setPaginations(){\r\n            this.pages.to_toal=this.alltableData.length\r\n            this.pages.current_page=1,\r\n            this.pages.page_size=10,\r\n            this.tableData=this.alltableData.filter((item,index)=>{\r\n             return index<this.pages.page_size;\r\n            })\r\n        },\r\n      handleEdit(row) {\r\n         this.ifshow={\r\n           title:'编辑',\r\n           show:true,\r\n           option:'edit'\r\n         },\r\n         this.form={\r\n        type:row.type,\r\n        describe:row.describe,\r\n        income:row.income,\r\n        expend:row.expend,\r\n        cash:row.cash,\r\n        remark:row.remark,\r\n        id:row._id\r\n         }\r\n      },\r\n      handleDelete(row) {\r\n        const url=row._id\r\n        this.$axios.get(`/api/profile/delete/${url}`).then(res=>{\r\n          this.$message({\r\n            message:'删除成功',\r\n            type:\"success\"\r\n          }),\r\n          this.getProfile()\r\n        })\r\n      },\r\n       onadd() {\r\n         this.ifshow={\r\n           title:'添加',\r\n           show:true,\r\n           option:'add'\r\n         },\r\n         this.form={\r\n            type:\"\",\r\n        describe:\"\",\r\n        income:\"\",\r\n        expend:\"\",\r\n        cash:\"\",\r\n        remark:\"\",\r\n        id:\"\"\r\n         }\r\n      },\r\n      handleCurrentChange(page) {\r\n         let sortnum = this.pages.page_size * (page - 1);\r\n      let table = this.alltableData.filter((item, index) => {\r\n        return index >= sortnum;\r\n      });\r\n      // 设置默认分页数据\r\n      this.tableData = table.filter((item, index) => {\r\n        return index < this.pages.page_size;\r\n      });\r\n      }\r\n    \r\n    },\r\n    components:{\r\n      indexadd\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n.alllist{\r\n padding: 16px;\r\n}\r\n  .btnRight{\r\n    float:right;\r\n  }\r\n  .block{\r\n    float: right;\r\n  }\r\n</style>"],"sourceRoot":"src/views"}]}